# プロジェクト

プロジェクトは開発するアプリ単位を指します。  
必ずプロジェクトを作成してから、各アプリの画面等を構築していきます。

<a id="create"></a>

## # プロジェクトの作成

※　任意のディレクトリ上で[こちらのインストール手順](install.md)までを完了した時点とします。

下記コマンドでプロジェクトを作成できます。

```
node . project create SampleA
```

**SampleA**がプロジェクト名となります。  
プロジェクト名はディレクトリ名そのものであるため、任意で変更可能です。

上記コマンド実行後、**SampleA**ディレクトリに下記内容のファイル/ディレクトリが作成されます。  
詳しい内容は下記記載。

```
SampleA
	L _build
	L app
	L assets
	L pages
	L views
	L index.html
	L manifest.json
```

<a id="terms"></a>

## # 用語解説

難しい用語はありません。既存の用語をxxxxx専用にまとめてあります。

|||
|:--|:--|
|ページ(Page)|各画面ごとの単位を指します。<br>xxxxxでは1つのindex.htmlであたかもページ遷移が行われているかのように再現しており、その際の切り替わった各画面ごとの単位を指します。<br>pagesディレクトリにhtmlファイルを設置することでそれが一つのページとして自動的に展開されます。|
|グループ(Group)|各画面をひとまとめにした集団の単位です。<br>各ページごとで必要な共通の処理をグループ内に記載して一つにまとめることができます。<br>1ページで複数のグループを関連付けることもできます。|
|コールバック(Callback)|ページ遷移時またはフォームからのリクエスト送信(Submit)時などに受け付ける関数(メソッド)を指します。<br>このコールバックを各ページ/グループまたはSubmit時等で設置することで、複雑な処理を中間的に実装することができます。<br>app/Pageやapp/Groupディレクトリ内のjsファイにページまたはグループのコールバックを設置します。|
|ビュー(View)|ページ内に差し込むコンテンツを指します。<br>viewsディレクトリにhtmlファイルを設置することで、展開可能なviewファイルとなります。|

<a id="structure"></a>

## # ディレクトリの構成

プロジェクトディレクトリ内が下記のようなファイル/ディレクトリ構成になっていることを確認してください。

```
SampleA
	L _build
	L app
		L Group
		L Page
		L Reset
		L Submit
		L Validate
	L assets
	L pages
	L views
	L index.html
	L manifest.json
```

各ディレクトリ/ファイルの解説は下記のとおりです。

||||
|:--|:--|:--|
|_build|ビルドデータ領域|ビルド後に生成される領域です。<br>この中にビルドデータが生成されます。<br>ビルド領域はGit等のバージョン管理の構成管理には含めないでください。|
|app|スクリプトデータ領域|各スクリプトファイルの格納領域です|
|-  Group|グループファイル領域|グループを設置するためのスクリプトファイルの格納領域です|
|-  Page|ページファイル領域|ページを設置するためのスクリプトファイルの格納領域です|
|-  Reset|リセットファイル領域|リセットを設置するためのスクリプトファイルの格納領域です|
|-  Submit|Submitファイル領域|Submitを設置するためのスクリプトファイルの格納領域です|
|-  Validate|バリデーションファイル領域|バリデーションを設置するためのスクリプトファイルの格納領域です|
|assets||画像ファイルや外部css等、リソースファイルを格納するための領域です|
|pages|ページHTML領域|ページごとのHTMLファイルを格納するための領域です|
|views|ビューHTML領域|ビューごとのHTMLファイルを格納するための領域です|
|index.html|基本HTML|ベースとなるHTMLファイルです|
|manifest.json|マニフェストファイル|初期動作用のマニフェストファイルです|

<a id="st_app"></a>

### ## appディレクトリ

主にxxxxxの操作に起因するスクリプトファイル(jsファイル)をここに設置します。  
各役割ごとにさらにディレクトリが分かれていますが、分けずに設置しても動作は可能です。

appディレクトリ内にjsファイルを設置した場合は、  
ビルド時に最適化の為すべてのjsファイルが統合されます。

<a id="st_pages"></a>

### ## pagesディレクトリ

ページごとのHTMLファイルを格納するための領域です。  
ページを追加したい場合は必ずこのディレクトリ内に追加ページ分のHTMLファイルを設置してください。

<a id="st_views"></a>

### ## viewsディレクトリ

ビューごとのHTMLファイルを格納するための領域です。

<a id="st_assets"></a>

### ## assetディレクトリ

画像ファイルや外部css等、リソースファイルを格納するための領域です。  
appディレクトリ内にjsファイルを設置した場合は、ビルド時に最適化の為すべてのjsファイルが統合されますが  
assetディレクトリではそのような最適化は行われません。

<a id="st_index"></a>

### ## index.htmlファイル

ベースとなるHTMLファイルです。  

基本は通常のHTMLと同じコード記述で拡張することが可能ですが、
一部に専用のショートコードが含まれてなどいます。  
個のショートコードはビルド時にタグに自動変換される為   
絶対にショートコードを変更などはしないでください。

<a id="st_index"></a>

### ## manifest.jsonファイル

初期動作用のマニフェストファイルです。  
ここで初期に表示するページやアニメーションを設定します。

<a id="build"></a>

### ## ビルドと実行

ビルドはプロジェクトデータを元にSPAページとして最適化とコアライブラリの設置が行われます。  
ビルドデータは**_build**ディレクトリに自動的に設置されます。

ビルドはプロジェクトを作成した段階でビルドも自動的に始まる為、**_build**ディレクトリは既に作成されていまが、  
手動でビルドを実行する場合は下記コマンドでプロジェクト名を指定して実行されます。

```
node . project build SampleA
```

プロジェクト名のディレクトリが存在しない、またはプロジェクトでないディレクトリを指定した場合はエラーを返します。

ビルドデータである**_build**の内容を変更しても再ビルド時に変更は消されてしまうので  
必ずプロジェクトソース内のファイルのみを変更してからビルドを行ってください。


